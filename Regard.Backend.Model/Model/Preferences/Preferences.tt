<#@ template debug="false" hostspecific="true" language="C#" #>
<#@ assembly name="System.Core" #>
<#@ assembly name="Microsoft.VisualBasic.dll" #>
<#@ import namespace="System.Linq" #>
<#@ import namespace="System.Text" #>
<#@ import namespace="System.Collections.Generic" #>
<#@ import namespace="System.IO" #>
<#@ import namespace="Microsoft.VisualBasic.FileIO" #>
<#@ output extension=".cs" #>
/* THIS FILE IS AUTOGENERATED DO NOT EDIT
 *
 * This file is autogenerated from Preferences.csv. 
 * If you want to add a new user interface coordinate 
 * do so in the CSV file then rebuild.
 */
using Regard.Model;

namespace Regard.Backend.Services
{
    public static class Preferences
    {
<#
    var path = Host.ResolvePath(string.Empty);
    var preferencesFile = Path.Combine(path, "Preferences.csv");

    using (TextFieldParser parser = new TextFieldParser(preferencesFile))
    {
        parser.TextFieldType = FieldType.Delimited;
        parser.SetDelimiters(",");

        // Skip headers
        string[] fields = parser.ReadFields();

        while (!parser.EndOfData)
        {
            fields = parser.ReadFields();

            var flags = new List<string>();

            if (!string.IsNullOrEmpty(fields[7]))
                flags.Add("PreferenceFlags.User");

            if (!string.IsNullOrEmpty(fields[8]))
                flags.Add("PreferenceFlags.SubscriptionFolder");

            if (!string.IsNullOrEmpty(fields[9]))
                flags.Add("PreferenceFlags.Subscription");

            if (flags.Count == 0)
                flags.Add("0");

            var flagsStr = string.Join(" | ", flags);
#>
        /// <summary>
        /// <#= fields[1] #>
        /// </summary>
        public static readonly PreferenceDefinition<<#= fields[2] #>> <#= fields[0] #> = new PreferenceDefinition<<#= fields[2] #>>(
            <#= fields[3] #>,
            <#= string.IsNullOrEmpty(fields[4]) ? "null" : $"\"{fields[4]}\"" #>,
            <#= string.IsNullOrEmpty(fields[5]) ? "null" : $"\"{fields[5]}\"" #>,
            <#= string.IsNullOrEmpty(fields[6]) ? "null" : $"\"{fields[6]}\"" #>,
            <#= flagsStr #>
        );

<#
        }
    }
#>
    }
}